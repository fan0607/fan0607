!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("echarts"),require("Cesium")):"function"==typeof define&&define.amd?define(["echarts","Cesium"],e):"object"==typeof exports?exports.FlowEcharts=e(require("echarts"),require("Cesium")):t.FlowEcharts=e(t.echarts,t.Cesium)}(window,(function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){n(2);var r=n(7);t.exports=r},function(t,e,n){var r;void 0===(r=function(t){return n(0).registerCoordinateSystem("GLMap",n(3)),n(5),n(6),n(0).registerAction({type:"GLMapRoam",event:"GLMapRoam",update:"updateLayout"},(function(t,e){})),{version:"1.0.0"}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){var e=n(0),r=n(4);function o(t,e){this._GLMap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e}return o.prototype.dimensions=["lng","lat"],o.prototype.setMapOffset=function(t){this._mapOffset=t},o.prototype.getBMap=function(){return this._GLMap},o.prototype.dataToPoint=function(t){var e=r.Math.toRadians(80),n=[99999,99999],o=r.Cartesian3.fromDegrees(t[0],t[1]);if(!o)return n;var i=this._GLMap.cartesianToCanvasCoordinates(o);if(!i)return n;var a=this._GLMap;return!(a.mode===r.SceneMode.SCENE3D&&r.Cartesian3.angleBetween(a.camera.position,o)>e)&&[i.x-this._mapOffset[0],i.y-this._mapOffset[1]]},o.prototype.pointToData=function(t){var e=this._mapOffset;return[(t=this._bmap.project([t[0]+e[0],t[1]+e[1]])).lng,t.lat]},o.prototype.getViewRect=function(){var t=this._api;return new e.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},o.prototype.getRoamTransform=function(){return e.matrix.create()},o.dimensions=o.prototype.dimensions,o.create=function(t,n){var r;t.eachComponent("GLMap",(function(t){n.getZr().painter.getViewportRoot();var i=e.glMap;(r=new o(i,n)).setMapOffset(t.__mapOffset||[0,0]),t.coordinateSystem=r})),t.eachSeries((function(t){"GLMap"===t.get("coordinateSystem")&&(t.coordinateSystem=r)}))},o}.call(e,n,e,t))||(t.exports=r)},function(t,n){t.exports=e},function(t,e,n){var r;void 0===(r=function(t){return n(0).extendComponentModel({type:"GLMap",getBMap:function(){return this.__GLMap},defaultOption:{roam:!1}})}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t){return n(0).extendComponentView({type:"GLMap",init:function(t,e){this.api=e,echarts.glMap.postRender.addEventListener(this.moveHandler,this)},moveHandler:function(){this.api.dispatchAction({type:"GLMapRoam"})},render:function(t,e,n){},dispose:function(t,e){echarts.glMap.postRender.removeEventListener(this.moveHandler,this)}})}.call(e,n,e,t))||(t.exports=r)},function(t,e){function n(t,e){this._mapContainer=t,this._overlay=this._createChartOverlay(),this._overlay.setOption(e)}n.prototype._createChartOverlay=function(){var t=this._mapContainer.scene;t.canvas.setAttribute("tabIndex",0);var e=document.createElement("div");return e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width=t.canvas.width+"px",e.style.height=t.canvas.height+"px",e.style.pointerEvents="none",e.setAttribute("id","echarts"),e.setAttribute("class","echartMap"),this._mapContainer.container.appendChild(e),this._echartsContainer=e,echarts.glMap=t,echarts.init(e)},n.prototype.dispose=function(){this._echartsContainer&&(this._mapContainer.container.removeChild(this._echartsContainer),this._echartsContainer=null),this._overlay&&(this._overlay.dispose(),this._overlay=null)},n.prototype.destroy=function(){this.dispose()},n.prototype.updateOverlay=function(t){this._overlay&&this._overlay.setOption(t)},n.prototype.getMap=function(){return this._mapContainer},n.prototype.getOverlay=function(){return this._overlay},t.exports=n}])}));